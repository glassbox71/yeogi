"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{20126:function(e,t,n){var o,i=n(67294);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",r({width:"current",height:"current",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=i.createElement("path",{d:"M14.229 12.1l.853 3.91c.06.502-.069.896-.386 1.18-.434.39-.958.352-1.294.21-.209-.114-1.343-.813-3.404-2.095-2.061 1.282-3.196 1.981-3.404 2.096-.336.14-.86.18-1.295-.211-.317-.284-.445-.678-.386-1.18l.853-3.91-.004-.003.001-.003c-1.817-1.651-2.806-2.56-2.965-2.724-.247-.267-.403-.786-.215-1.309.188-.523.671-.746.954-.78.19-.021 1.472-.146 3.848-.373H7.38c.965-2.358 1.49-3.621 1.576-3.791.128-.255.54-.617 1.042-.617s.864.332 1.018.573c.1.198.634 1.477 1.6 3.835 2.375.227 3.658.352 3.847.374.283.033.766.256.954.78.188.522.032 1.04-.215 1.308-.16.165-1.15 1.074-2.969 2.727l-.004.003z",fill:"current"})))}},32489:function(e,t,n){n.d(t,{o:function(){return u}});var o=n(6154),i=n(4480),r=n(29047),a=n(36240),c=n(64422),l=n(15304),s=n(11596);let u=()=>{let e=(0,i.Zl)(l.C),t=(0,i.rb)(l.C),n=(0,a.d)(),u=async()=>{try{let e=await (0,o.Z)("".concat(window.location.origin).concat(r.j.CHECK_AUTHORIZATION),{method:"POST",timeout:2e3,headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});if(e.status>=500)throw Error("Check Authorization Api Server Error");return e.data.isLoggedIn}catch(e){return!1}},p=t=>new Promise(n=>{e(()=>(n(),{isLogin:!0,userInfo:t.userInfo,couponCount:t.couponCount,point:t.point,showingCouponBullet:t.showingCouponBullet||!1,showingPointBullet:t.showingPointBullet||!1}))}),d=async()=>{try{let e=await fetch("".concat(window.location.origin).concat(r.j.USER_INFO),{method:"GET"}),o=await e.json();return(0,c.X)(null==o?void 0:o.status)?await p({status:o.status,couponCount:o.couponCount,point:o.point,showingCouponBullet:o.showingCouponBullet,showingPointBullet:o.showingPointBullet,userInfo:{...o.userInfo,grade:o.userInfo.grade.toUpperCase()}}):(null==o?void 0:o.status)==="FOCUS_LOGOUT"||(null==o?void 0:o.status)==="EXPIRED_TOKEN"||(null==o?void 0:o.status)==="FAIL_LOGIN"||(null==o?void 0:o.status)==="FAIL_TOKEN_RENEWAL"?(n.alert({description:s.c.FOCUS_LOGOUT}),t(),fetch("".concat(window.location.origin).concat(r.j.CLEAR_AUTHORIZATION),{method:"POST"})):t(),{status:o.status,couponCount:o.couponCount,point:o.point,showingCouponBullet:o.showingCouponBullet,showingPointBullet:o.showingPointBullet,userInfo:{...o.userInfo,grade:o.userInfo.grade.toUpperCase()}}}catch(e){return{status:"NO_TOKEN",userInfo:{uno:-1,utype:1,uid:"",unick:"",uname:"",upath:"",gradePath:"",reservePhone:"",passwordExpired:"N",phoneVerified:"N",snsAgree:"N",ustate:1,grade:"BASIC",ugender:"",isElite:"N",ubirth:"",identityAcceptance:"N",favoriteType:"NEW",b2b:null,alarmRecentState:{alarm:"N",recent:"N",marketingAcceptance:"N",emailAcceptance:"N",smsAcceptance:"N",marketingAction:"N"},newUserByDeviceId:"N",tripHolic:!1,tripHolicTerm:0,hasUpath:!1,currentStamps:0,remainingStamps:0,nextGradeGoalStamps:0,gradeExpirationDate:""},couponCount:0,point:0,showingCouponBullet:!1,showingPointBullet:!1}}};return{checkAuthorization:u,getUserInfoAndSetRecoil:d}}},64422:function(e,t,n){n.d(t,{X:function(){return o}});let o=e=>"SUCCESS_LOGIN_ACCESS_TOKEN"===e||"SUCCESS_LOGIN_REFRESH_TOKEN"===e},28282:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(67294),i=n(1621);let r={wrapper:Object.values({display:{flex:"none"},size:{height:"30px",width:"30px"},border:{borderRadius:"50%"},padding:{paddingLeft:"5px",paddingRight:"5px",paddingTop:"6px",paddingBottom:"4px"},background:{"--tw-bg-opacity":"1",backgroundColor:"rgb(245 245 245 / var(--tw-bg-opacity))"}}),checked:{fill:"#F94239"},unchecked:{fill:"#999999"}};var a=n(35944);let c=e=>{let{wrapperCss:t,checked:n=!1,onClick:c}=e,[l,s]=(0,o.useState)(n);(0,o.useEffect)(()=>{s(n)},[n]);let u=async e=>{e.preventDefault(),e.stopPropagation(),null==c||c()};return(0,a.tZ)("button",{css:[r.wrapper,t],type:"button","aria-label":"이 상품 저장하기",onClick:e=>u(e),children:(0,a.tZ)(i.Z,{css:l?r.checked:r.unchecked,width:20,height:20})})};var l=c},34183:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(29456),i=n(7297),r=n(70917),a=n(66976);function c(){let e=(0,i.Z)(["\n    svg {\n      ","\n    }\n    svg + * {\n      ","\n    }\n  "]);return c=function(){return e},e}let l=(e,t)=>{let n={},o={},i={},l={},s={},u={};switch(t){case"l":n={height:"24px",borderRadius:"4px",paddingLeft:"6px",paddingRight:"6px"},o={fontSize:"0.875rem",lineHeight:"normal",letterSpacing:"0px",fontWeight:"700"},s={marginLeft:"2px"};break;case"m":n={height:"20px",borderRadius:"3px",paddingLeft:"4px",paddingRight:"4px"},o={fontSize:"0.75rem",lineHeight:"normal",letterSpacing:"0px",fontWeight:"700"},s={marginLeft:"2px"};break;case"s":n={height:"16px",borderRadius:"2px",paddingLeft:"4px",paddingRight:"4px"},o={fontSize:"0.625rem",lineHeight:"normal",letterSpacing:"0px",fontWeight:"700"},s={marginLeft:"1px"},u={marginTop:"1px"};break;case"xs":n={height:"14px",borderRadius:"2px",paddingLeft:"4px",paddingRight:"4px"},o={fontSize:"0.5625rem",lineHeight:"normal",letterSpacing:"0px",fontWeight:"700"},s={marginLeft:"1px"},u={marginTop:"1px"}}switch(e){case a.mV.ELITE:case a.mV.BIZ_ELITE:i={"--tw-bg-opacity":"1",backgroundColor:"rgb(237 235 255 / var(--tw-bg-opacity))"},l={"--tw-text-opacity":"1",color:"rgb(112 89 250 / var(--tw-text-opacity))"};break;case a.mV.ELITE_PLUS:case a.mV.BIZ_ELITE_PLUS:i={"--tw-bg-opacity":"1",backgroundColor:"rgb(220 214 255 / var(--tw-bg-opacity))"},l={"--tw-text-opacity":"1",color:"rgb(79 59 204 / var(--tw-text-opacity))"}}let p=(0,r.iv)(c(),u,s);return[{display:"flex",alignItems:"center",wordBreak:"keep-all"},n,i,l,o,p]},s={wrapper:l};var u=n(35944);let p=e=>{let{size:t="xs",type:n,children:i}=e;return(0,u.BX)("div",{className:"gc-logo-type-tag","aria-label":"엘리트 멤버쉽 태그",css:s.wrapper(n,t),children:[(0,u.tZ)(o.Z,{type:n,size:t}),(0,u.tZ)("span",{children:i||"할인"})]})};var d=p},29762:function(e,t,n){n.d(t,{AA:function(){return i},HD:function(){return a},h3:function(){return o},ji:function(){return r}});let o=1,i=100,r=20,a=500},45307:function(e,t,n){n.d(t,{t:function(){return E}});var o=n(23493),i=n.n(o),r=n(5152),a=n.n(r),c=n(11163),l=n.n(c),s=n(67294),u=n(4480),p=n(54021),d=n(54869),g=n(32489),h=n(38923),f=n(75547),m=n(36240),w=n(23860),I=n(11596),v=n(29762),b=n(81713),x=n(35944);let C=a()(()=>Promise.all([n.e(8667),n.e(8445)]).then(n.bind(n,88445)),{loadableGenerated:{webpack:()=>[88445]},loadableGenerated:{webpack:()=>[88445]},ssr:!1}),E=e=>{let t=(0,m.d)(),n=(0,w.D)(),{checkAuthorization:o}=(0,g.o)(),{goLoginPage:r}=(0,f.v)(),[a,c]=(0,u.FV)(d._w),E=(0,u.rb)(d._w),[S,y]=(0,s.useState)(),[T,O]=(0,s.useState)(!1),[,N]=(0,u.FV)(d.Fr),{data:k,isFetching:L}=(0,b.nl)(null==S?void 0:S.placeId),{mutate:_,data:A,error:B}=(0,b.pI)(),{mutate:P,data:R,error:Z}=(0,b.X2)();(0,s.useEffect)(()=>{if(A){let{folderName:t,folderId:o,placeId:i}=A;c(e=>({...e,[i]:!e[i]})),n.open({prependIcon:{icon:"favorite",type:"favorite-active"},visibleSecondsTime:"short",actionButton:e&&e.isFixedFolder?void 0:{type:"text",name:"보기"},message:"'".concat(t,"'에 저장되었어요."),onClickActionButton:()=>l().push("".concat(h.C.FAVORITES,"/").concat(o))})}},[A]),(0,s.useEffect)(()=>{if(B){let{message:e}=B;n.open({prependIcon:{icon:"warning",type:"failed-active"},visibleSecondsTime:"short",message:e||I.c.POST_DEFAULT})}},[B]),(0,s.useEffect)(()=>{if(R){let{folderName:e,placeId:t}=R;c(e=>({...e,[t]:!e[t]})),n.open({prependIcon:{icon:"favorite",type:"favorite-inactive"},visibleSecondsTime:"short",message:"'".concat(e,"'에서 해제되었어요.")})}},[R]),(0,s.useEffect)(()=>{if(Z){let{message:e}=Z;n.open({prependIcon:{icon:"warning",type:"failed-active"},visibleSecondsTime:"short",message:e||I.c.POST_DEFAULT})}},[Z]);let F=e=>{let{requestBody:t,folderId:n,hasWishItem:o}=e;o?P({folderId:n,placeId:t.placeId,regionType:t.regionType}):_({folderId:n,data:t})},U=e=>{S&&F({requestBody:S,folderId:e.folderId,hasWishItem:a[S.placeId]})},H=e=>{S&&F({requestBody:{...S,folderId:e.folderId},folderId:e.folderId,hasWishItem:e.hasWishItem})},W=i()(H,v.HD,{leading:!0,trailing:!1}),D=async(e,t)=>{let n=await o();if(!n){r();return}if(t&&e.folderId){F({requestBody:e,folderId:e.folderId,hasWishItem:t.hasWishItem});return}L||y(e)},G=i()(D,v.HD,{leading:!0,trailing:!1}),j=e=>{if(!S)return;let t=e.filter(e=>e.hasWishItem).length>0;c(e=>({...e,[S.placeId]:!!t}))};return(0,p.Z)(()=>{if(!k)return;let{items:e,isPopupOpened:n}=k;if(N({folderSummaryList:e,isPopupOpened:n}),j(e),T)return;let[o]=e,i=1===e.length&&o.totalItemCount<v.AA||1===e.length&&o.hasWishItem;if(i){U(o),y(void 0);return}T||(O(!0),t.open((0,x.tZ)(C,{onClickFolder:e=>W(e),onModalClose:()=>O(!1)})))},[k]),(0,p.Z)(()=>{T||y(void 0)},[T]),(0,s.useEffect)(()=>{let e=()=>E();return l().events.on("routeChangeStart",e),()=>{l().events.off("routeChangeStart",e)}},[l().events]),{favoriteStates:a,setFavoriteStates:c,onClickFavoriteHandler:G}}}}]);